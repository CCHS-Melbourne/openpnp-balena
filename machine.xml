<openpnp-machine>
   <machine class="org.openpnp.machine.reference.ReferenceMachine">
      <heads>
         <head class="org.openpnp.machine.reference.ReferenceHead" id="H1" name="H1">
            <nozzles>
               <nozzle class="org.openpnp.machine.reference.ReferenceNozzle" id="N1" name="N1" pick-dwell-milliseconds="0" place-dwell-milliseconds="0" current-nozzle-tip-id="NT1" changer-enabled="false">
                  <head-offsets units="Millimeters" x="0.0" y="0.0" z="0.0" rotation="0.0"/>
				<compatible-nozzle-tip-ids class="java.util.ArrayList">
					<string>NT1</string>
				</compatible-nozzle-tip-ids>
               </nozzle>
            </nozzles>
            <actuators>
               <actuator class="org.openpnp.machine.reference.ReferenceActuator" id="A1" name="A1" index="0">
                  <head-offsets units="Millimeters" x="0.0" y="0.0" z="0.0" rotation="0.0"/>
               </actuator>
            </actuators>
            <cameras>
               <camera class="org.openpnp.machine.reference.camera.ImageCamera" id="C1" name="Top" looking="Down" rotation="0.0" fps="24" width="640" height="480">
                  <units-per-pixel units="Millimeters" x="0.04233" y="0.04233" z="0.0" rotation="0.0"/>
                  <vision-provider class="org.openpnp.machine.reference.vision.OpenCvVisionProvider"/>
                  <head-offsets units="Millimeters" x="0.0" y="0.0" z="0.0" rotation="0.0"/>
                  <source-uri>classpath://samples/pnp-test/pnp-test.png</source-uri>
               </camera>
            </cameras>
         </head>
      </heads>
      <feeders>
         <feeder class="org.openpnp.machine.reference.feeder.ReferenceStripFeeder" id="F5" name="Upper Strips - 1" enabled="true" part-id="R0805-1K" tape-type="WhitePaper" vision-enabled="true" feed-count="0">
            <location units="Millimeters" x="0.0" y="0.0" z="0.0" rotation="0.0"/>
            <reference-hole-location units="Millimeters" x="138.715" y="88.244" z="0.0" rotation="0.0"/>
            <last-hole-location units="Millimeters" x="139.057" y="84.226" z="0.0" rotation="0.0"/>
            <part-pitch value="4.0" units="Millimeters"/>
            <tape-width value="8.0" units="Millimeters"/>
         </feeder>
         <feeder class="org.openpnp.machine.reference.feeder.ReferenceStripFeeder" id="F6" name="Upper Strips - 2" enabled="true" part-id="R0805-1K" tape-type="WhitePaper" vision-enabled="true" feed-count="0">
            <location units="Millimeters" x="0.0" y="0.0" z="0.0" rotation="0.0"/>
            <reference-hole-location units="Millimeters" x="155.055" y="87.275" z="0.0" rotation="0.0"/>
            <last-hole-location units="Millimeters" x="154.713" y="83.314" z="0.0" rotation="0.0"/>
            <part-pitch value="4.0" units="Millimeters"/>
            <tape-width value="8.0" units="Millimeters"/>
         </feeder>
         <feeder class="org.openpnp.machine.reference.feeder.ReferenceStripFeeder" id="F7" name="Upper Strips - 3" enabled="true" part-id="R0805-1K" tape-type="WhitePaper" vision-enabled="true" feed-count="0">
            <location units="Millimeters" x="0.0" y="0.0" z="0.0" rotation="0.0"/>
            <reference-hole-location units="Millimeters" x="172.679" y="56.242" z="0.0" rotation="0.0"/>
            <last-hole-location units="Millimeters" x="172.251" y="60.289" z="0.0" rotation="0.0"/>
            <part-pitch value="4.0" units="Millimeters"/>
            <tape-width value="8.0" units="Millimeters"/>
         </feeder>
         <feeder class="org.openpnp.machine.reference.feeder.ReferenceStripFeeder" id="F8" name="Upper Strips - 4" enabled="true" part-id="R0805-1K" tape-type="WhitePaper" vision-enabled="true" feed-count="0">
            <location units="Millimeters" x="0.0" y="0.0" z="0.0" rotation="0.0"/>
            <reference-hole-location units="Millimeters" x="184.199" y="55.074" z="0.0" rotation="0.0"/>
            <last-hole-location units="Millimeters" x="184.456" y="59.035" z="0.0" rotation="0.0"/>
            <part-pitch value="4.0" units="Millimeters"/>
            <tape-width value="8.0" units="Millimeters"/>
         </feeder>
         <feeder class="org.openpnp.machine.reference.feeder.ReferenceStripFeeder" id="F1" name="Lower Strips - 1" enabled="true" part-id="R0805-1K" tape-type="WhitePaper" vision-enabled="true" feed-count="0">
            <location units="Millimeters" x="0.0" y="0.0" z="0.0" rotation="0.0"/>
            <reference-hole-location units="Millimeters" x="147.347" y="40.285" z="0.0" rotation="0.0"/>
            <last-hole-location units="Millimeters" x="147.433" y="36.238" z="0.0" rotation="0.0"/>
            <part-pitch value="4.0" units="Millimeters"/>
            <tape-width value="8.0" units="Millimeters"/>
         </feeder>
         <feeder class="org.openpnp.machine.reference.feeder.ReferenceStripFeeder" id="F2" name="Lower Strips - 2" enabled="true" part-id="R0603-1K" tape-type="WhitePaper" vision-enabled="true" feed-count="0">
            <location units="Millimeters" x="0.0" y="0.0" z="0.0" rotation="0.0"/>
            <reference-hole-location units="Millimeters" x="157.385" y="40.199" z="0.0" rotation="0.0"/>
            <last-hole-location units="Millimeters" x="157.328" y="36.267" z="0.0" rotation="0.0"/>
            <part-pitch value="4.0" units="Millimeters"/>
            <tape-width value="8.0" units="Millimeters"/>
         </feeder>
         <feeder class="org.openpnp.machine.reference.feeder.ReferenceStripFeeder" id="F3" name="Lower Strips - 3" enabled="true" part-id="R0402-1K" tape-type="WhitePaper" vision-enabled="true" feed-count="0">
            <location units="Millimeters" x="0.0" y="0.0" z="0.0" rotation="0.0"/>
            <reference-hole-location units="Millimeters" x="167.366" y="40.256" z="0.0" rotation="0.0"/>
            <last-hole-location units="Millimeters" x="167.366" y="36.295" z="0.0" rotation="0.0"/>
            <part-pitch value="2.0" units="Millimeters"/>
            <tape-width value="8.0" units="Millimeters"/>
         </feeder>
         <feeder class="org.openpnp.machine.reference.feeder.ReferenceStripFeeder" id="F4" name="Lower Strips - 4" enabled="true" part-id="R0201-1K" tape-type="WhitePaper" vision-enabled="true" feed-count="0">
            <location units="Millimeters" x="0.0" y="0.0" z="0.0" rotation="0.0"/>
            <reference-hole-location units="Millimeters" x="177.404" y="40.256" z="0.0" rotation="0.0"/>
            <last-hole-location units="Millimeters" x="177.376" y="36.267" z="0.0" rotation="0.0"/>
            <part-pitch value="2.0" units="Millimeters"/>
            <tape-width value="8.0" units="Millimeters"/>
         </feeder>
      </feeders>
      <cameras>
         <camera class="org.openpnp.machine.reference.camera.SimulatedUpCamera" id="C2" name="Bottom" looking="Up" settle-time-ms="250">
            <units-per-pixel units="Millimeters" x="0.0134375" y="0.0134375" z="0.0" rotation="0.0"/>
            <vision-provider class="org.openpnp.machine.reference.vision.OpenCvVisionProvider"/>
            <head-offsets units="Millimeters" x="118.799" y="7.117" z="0.0" rotation="0.0"/>
            <safe-z value="0.0" units="Millimeters"/>
            <calibration enabled="false">
               <camera-matrix length="9">3.5E-323, 0.0, 2.5E-323, NaN, 6.93224685617292E-310, 6.932247478583E-310, 0.0, 0.0, 0.0</camera-matrix>
               <distortion-coefficients length="5">NaN, 0.0, 0.0, 0.0, 0.0</distortion-coefficients>
            </calibration>
         </camera>
      </cameras>
      <nozzle-tips>
         <nozzle-tip class="org.openpnp.machine.reference.ReferenceNozzleTip" id="NT1" name="NT1">
            <changer-start-location units="Millimeters" x="0.0" y="0.0" z="0.0" rotation="0.0"/>
            <changer-mid-location units="Millimeters" x="0.0" y="0.0" z="0.0" rotation="0.0"/>
            <changer-end-location units="Millimeters" x="0.0" y="0.0" z="0.0" rotation="0.0"/>
         </nozzle-tip>
      </nozzle-tips>
	  <part-alignments>
   	  	<part-alignment class="org.openpnp.machine.reference.vision.ReferenceBottomVision" enabled="true" pre-rotate="false"/>
   	  </part-alignments>
	  <driver baud="115200" class="org.openpnp.machine.reference.driver.GcodeDriver" connect-wait-time-milliseconds="1000" data-bits="Eight" flow-control="Off" max-feed-rate="1000" parity="None" port-name="/dev/ttyAMA0" set-dtr="false" set-rts="false" stop-bits="One" timeout-milliseconds="5000" units="Millimeters">
   <homing-fiducial-location rotation="0.0" units="Millimeters" x="0.0" y="0.0" z="0.0"/>
   <command type="DISABLE_COMMAND">
      <text><![CDATA[M9 M5]]></text>
   </command>
   <command type="ENABLE_COMMAND">
      <text><![CDATA[G21 M9]]></text>
   </command>
   <command type="CONNECT_COMMAND">
      <text><![CDATA[$SV=2]]></text>
      <text><![CDATA[$ME ]]></text>
      <text><![CDATA[$1pm=1]]></text>
      <text><![CDATA[$2pm=1]]></text>
      <text><![CDATA[$3pm=1]]></text>
      <text><![CDATA[$4pm=1]]></text>
      <text><![CDATA[$mt=1000000000]]></text>
      <text><![CDATA[G21 G90 G92 X0 Y0 Z0 A0 M8 M5]]></text>
      <text><![CDATA[$xjm=2000]]></text>
      <text><![CDATA[$xvm=8000]]></text>
      <text><![CDATA[$xsv=2000]]></text>
      <text><![CDATA[$xsn=3]]></text>
      <text><![CDATA[$xjh=2000]]></text>
      <text><![CDATA[$xsx=2]]></text>
      <text><![CDATA[$1mi=8]]></text>
      <text><![CDATA[$1sa=0.900]]></text>
      <text><![CDATA[$1tr=39.983]]></text>
      <text><![CDATA[$yjm=2000]]></text>
      <text><![CDATA[$yvm=8000]]></text>
      <text><![CDATA[$ysn=3]]></text>
      <text><![CDATA[$ysx=2]]></text>
      <text><![CDATA[$yjh=2000]]></text>
      <text><![CDATA[$ysv=1800]]></text>
      <text><![CDATA[$2mi=8]]></text>
      <text><![CDATA[$2sa=0.900]]></text>
      <text><![CDATA[$2tr=39.9540]]></text>
      <text><![CDATA[$zjm=2300]]></text>
      <text><![CDATA[$zvm=3000]]></text>
      <text><![CDATA[$zjh=2000]]></text>
      <text><![CDATA[$zsv=1500]]></text>
      <text><![CDATA[$xfr=8000]]></text>
      <text><![CDATA[$yfr=8000]]></text>
      <text><![CDATA[$zfr=3000]]></text>
      <text><![CDATA[$afr=20000]]></text>
      <text><![CDATA[$3mi=8]]></text>
      <text><![CDATA[$3sa=1.800]]></text>
      <text><![CDATA[$3tr=8.0000]]></text>
      <text><![CDATA[$ajm=600]]></text>
      <text><![CDATA[$avm=20000]]></text>
      <text><![CDATA[$4mi=8]]></text>
      <text><![CDATA[$4sa=0.900]]></text>
      <text><![CDATA[$4tr=160.0000]]></text>
      <text><![CDATA[$mt=300.00]]></text>
      <text><![CDATA[$zzb=2]]></text>
      <text><![CDATA[$3po=1]]></text>
      <text><![CDATA[$zsx=3]]></text>
      <text><![CDATA[$zsn=0]]></text>
   </command>
   <command type="HOME_COMMAND">
      <text><![CDATA[G28.2 X0 Y0 Z0 A0 ]]></text>
      <text><![CDATA[G92 X0 Y0 Z0]]></text>
   </command>
   <command type="COMMAND_CONFIRM_REGEX">
      <text><![CDATA[.*ok>.*]]></text>
   </command>
   <command type="MOVE_TO_COMPLETE_REGEX">
      <text><![CDATA[.*stat:3.*]]></text>
   </command>
   <command type="PICK_COMMAND">
      <text><![CDATA[M8]]></text>
      <text><![CDATA[G4 P0.5]]></text>
   </command>
   <command type="PLACE_COMMAND">
      <text><![CDATA[M9]]></text>
      <text><![CDATA[G4 P0.5]]></text>
   </command>
   <command type="PUMP_ON_COMMAND">
      <text><![CDATA[M4]]></text>
   </command>
   <command type="PUMP_OFF_COMMAND">
      <text><![CDATA[M5]]></text>
   </command>
   <command type="MOVE_TO_COMMAND">
      <text><![CDATA[G0 {X:X%.4f} {Y:Y%.4f} {Z:Z%.4f} {Rotation:A%.4f} F{FeedRate:%.0f}]]></text>
   </command>
   <sub-drivers class="java.util.ArrayList"/>
   <axes class="java.util.ArrayList">
      <axis home-coordinate="0.0" name="x" type="X">
         <head-mountable-ids class="java.util.HashSet">
            <string>*</string>
         </head-mountable-ids>
      </axis>
      <axis home-coordinate="0.0" name="y" type="Y">
         <head-mountable-ids class="java.util.HashSet">
            <string>*</string>
         </head-mountable-ids>
      </axis>
      <axis home-coordinate="0.0" name="z" type="Z">
         <head-mountable-ids class="java.util.HashSet">
            <string>N1</string>
         </head-mountable-ids>
      </axis>
      <axis home-coordinate="0.0" name="rotation" type="Rotation">
         <head-mountable-ids class="java.util.HashSet">
            <string>*</string>
         </head-mountable-ids>
      </axis>
   </axes>
</driver> 
   </machine>
</openpnp-machine>
